<!doctype html>
<html lang="en">
  <head>
  
    <div id="map"></div>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1 shrink-to-fit=no">
    <title>Itinerary</title>
    <!-- search link -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="js/autofill.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAzWAdiErZx7DlZYzpcxulO8_OLY2rYUm4&libraries=places&v=weekly" defer></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

     <!-- theme meta -->
     <meta name="theme-name" content="revolve" />

    <!-- progress bar -->
    <link rel="stylesheet" href="../css/step.css">
   
    <!-- calendar -->
    <meta name="google-site-verification" content="nERiBNqxg1sFpetHtzwMVydsumihA9YnyytsjfzYEGI" />
    <meta name="description" content="Javascript date range picker - lightweight, no jQuery. Date Range Picker can be attached to input element to pop up one or more calendars for selecting dates.">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/lightpick@latest/css/lightpick.css">

    <!-- icon -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css">
    <!-- other links -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <script src="https://unpkg.com/vue@next"></script>

    <!--Google charts-->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-app.js"></script>
    <!-- This is the API from Firebase Realtime Database -->
    <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-database.js"></script>

    <!-- nav -->
      <!-- THEME CSS
        ================================================== -->
        <!-- Bootstrap -->
        <link rel="stylesheet" href="plugins/bootstrap/css/bootstrap.min.css">
        <!-- Themify -->
        <link rel="stylesheet" href="plugins/themify/css/themify-icons.css">

        <link rel="stylesheet" href="plugins/magnific-popup/magnific-popup.css">
        <!-- main stylesheet -->
        <link rel="stylesheet" href="css/style.css">
        <!--calendar icon-->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

        <style>
          img{
            width:100%;
            
          }
    
          .card img {
              object-fit: contain;
            }

          .trip-name{
            background-image: url("img/korea4.jpg");
            padding: 40px;
          }

          hr{
            border-top: 2px solid rgb(77, 76, 76)
          }
          
    
        </style>
  </head>


  <body onload="checklogin()">
  <!----------------------------------------header-------------------------------------------------->
  <header class="header-top bg-grey"> 
    <nav class="navbar navbar-expand-md navigation-2 navigation py-1"> 
      <div class="container-fluid"> 
        <a class="navbar-brand text-uppercase py-0" href="home2.html"> 
          <img src="images/logo.png" alt="" width="80px" style="max-width: 100px;" class="ms-4"> 
        </a> 
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"> 
          <span class="ti-menu" style="color: white;"></span> 
        </button> 
        <div class="collapse navbar-collapse" id="navbarSupportedContent"> 
          <ul id="menu" class="menu navbar-nav ms-auto mb-2 mb-lg-0"> 
            <li class="nav-item mx-2"> 
              <a href="home2.html" class="nav-link text-white">Home</a> 
            </li> 
            <li class="nav-item mx-2"> 
              <a href="createtrip.html" class="nav-link text-white">Add New Trip</a> 
            </li> 
            <li class="nav-item mx-2"> 
              <a href="profile.html" class="nav-link text-white">Profile</a> 
            </li> 
            <li class="nav-item mx-2"> 
              <a class="nav-link text-white" id="logout" style="cursor: pointer;">Log out</a> 
            </li> 
          </ul> 
          <!-- <form class="d-flex" role="search"> 
            <input class="form-control" type="search" placeholder="Search" aria-label="Search"> 
            <button type="button" class="btn btn-primary"><i class="ti-search"></i></button> 
          </form> --> 
        </div> 
      </div> 
    </nav> 
  </header>

<!-- content -->

    <!-- Itinerary heading -->
    <!-- Banner --> 
    <section class="trip-name shadow" > 
      <div class="card w-50 h-200 mx-auto shadow">
        <div class="card-body ">
          <h1 class="card-title" style="text-align:left;">Trip to South Korea</h1> 
          <h5 class="card-content" style="text-align:left"> 
            <i style="font-size:24px" class="fa">&#xf073;</i> 
            <p id="result-2" style="display:inline">&nbsp;</p></i> 
          </h5> 
          <br>
        </div>
      </div>
      </div> 
      
    </section>


    <br><br>

    <!--------------------------- progress bar ------------------------------>
    <div class="container"> 
      <div class="row justify-content-center"> 
          <div class="col-11 col-sm-9 col-md-7  
          col-lg-6 col-xl-5 text-center p-0 mt-2 mb-2"> 
              <div class="px-0 pt-3 pb-0 mt-2 mb-2"> 
                  <form id="form"> 
                      <ul id="progressbar" class="d-flex justify-content-center"> 
                          <li class="active" id="step1"> 
                              <strong>Step 1</strong> 
                          </li> 
                          <li class="active" id="step2"><strong>Step 2</strong></li> 
                          <li  class="active" id="step3"><strong>Step 3</strong></li> 
                          
                      </ul> 
                      <fieldset> 
                          <div class="finish"> 
                          </div> 
                      </fieldset> 
                  </form> 
              </div> 
          </div> 
      </div> 
    </div>

    <!-------------------------------------Itinerary----------------------------->
    
    <div class="itinerary-heading d-flex justify-content-center">
      <div class="container ">
        <div class="row ">

          <div class="col">
            <h1><strong>Itinerary</strong></h1>
          </div>

          <div class="col">
              <div class="row">
                <div class="col d-flex" >
                  
                  <!----------------------- CALENDAR ----------------------->
                  <div class="container justify-content-end d-flex">
                    <button type="button" id="demo-2" class="btn btn-outline-secondary" class="form-control form-control-sm" >
                      <i style="font-size:24px" class="fa">&#xf073; 
                      <p id="result-2" style="display:inline">&nbsp;</p></i> 
                    </button>
                    <button class="btn btn-primary" onclick="fill_template()">Confirm Date</button>
                  </div>
                  <!-- end calendar -->

                </div>
              </div>
          </div>  

        </div>
      </div>  
    </div>
    
    <!------------------------------------ ACCORDION--------------------------------------------->
    <input type="hidden" id="origin_lat" name="origin_lat" value="None" /> 
    <input type="hidden" id="origin_lng" name="origin_lng" value="None" /> 
    <input type="hidden" id="place_id" name="place_id" value="None" /> 
    <input type="hidden" id="recommended_track" name="recommended_track" value="None" /> 
    <div class="container">
      <div class="accordion accordion-flush" id="accordionFlushExample">


      </div> <!--end accordion-->
  </div> <!--end container-->
  <p id="result-3" hidden></p>
  <div id="carousel_num">1</div>

<!------------------------------------------Budget-------------------------------------------->
<div id="budget" style="width:90%;" class="mx-auto mb-4">
    <h1>Budgeting</h1>

  <div class="row p-3" style="background-color:lightgrey; border-radius:20px;">
          <div class="col-lg-8 col-sm-12">
              <h3>{{currency}}: ${{total_amt.toFixed(2)}}</h3>
              <hr>
              Total Amount
          </div>

          <div class="col-lg-4 col-sm-12">
              <!--Button to launch modal-->
              <button type="button" class="btn" style="background-color: lightgray; color:black;" data-bs-toggle="modal" data-bs-target="#exampleModal"><h7 class="fw-bold"><i style="font-size:15px" class="fa">&#xf155;</i> Category Breakdown</h7></button><br>
              
              <!--Modal content-->
              <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">

                  <div class="modal-dialog">
                  
                      <div class="modal-content">
                  
                          <div class="modal-header">
                              <h1 class="modal-title fs-5" id="exampleModalLabel">Spending Breakdown</h1>
                              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                          </div>

                          <div class="modal-body">

                              <!--This is the buttons to togger the content within modal-->
                              <div class="btn-group me-2" role="group" aria-label="First group">
                                  <button v-on:click="catShowTableView()" type="button" class="btn btn-outline-secondary">Table View</button>
                                  <button v-on:click="catShowBarView()" type="button" class="btn btn-outline-secondary">Bar View</button>
                              </div>

                              <br><br>

                              <!--Chart View-->
                              <div v-show="catBarView">
                                  <h7 class="fw-bold">Bar View</h7>
                                  <div id="bar_chart_div"></div>
                              </div>

                              <!--Table View-->
                              <div v-show="catTableView">
                                  <h7 class="fw-bold">Table View</h7>
                                  <div id="table_div"></div>
                              </div>

                          </div><!--End of modal body-->
                  
                      </div>
                  
                  </div>
              
              </div> <!--End of modal content-->

              <!--Button to launch modal for currency-->
              <button type="button" class="btn" style="background-color: lightgray; color:black;" data-bs-toggle="modal" data-bs-target="#currencySettingModal"><h7 class="fw-bold"><span>&#9881;</span> Currency Settings</h7></button>

              <!--modal content for currency settings-->

              <!--Start of currency setting modal content-->
              <div class="modal fade" id="currencySettingModal" tabindex="-1" aria-labelledby="currencySettingModalLabel" aria-hidden="true">

                  <div class="modal-dialog">
                  
                      <div class="modal-content m-2">
                  
                          <div class="modal-header">
                              <h1 class="modal-title fs-5" id="currencySettingModalLabel">Currency Setting</h1>
                              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                          </div>

                          <div class="modal-body">

                              <h7 class="fw-bold">Ensuring ease budgeting</h7>
                              <p>Input in your currency settings and let us do the quick conversion for you. </p>

                              <div class="row text-center">

                                <!--Drop down of currency-->
                                <div class="input-group mb-3">
                                  <label class="input-group-text" for="fromCurr">From Currency</label>
                                  <select class="form-select" id="fromCurr" v-model="from">
                                      <option v-for="curr of currency_code_array" v-bind:value="curr">{{curr}}</option>
                                  </select>
                                </div>
                                <!--End of the drop down of currency-->

                                <!--Start of Output currency-->
                                <div class="input-group mb-3">
                                  <label class="input-group-text" for="toCurr">To Currency</label>
                                  <select class="form-select" id="toCurr" v-model="to">
                                      <option v-for="curr of currency_code_array">{{curr}}</option>
                                  </select>
                                </div>
                                <!--End of Output currency-->

                              </div>

                          </div><!--End of modal body-->

                          <!--Start of modal footer-->
                          <div class="modal-footer">
                            <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Save Changes</button>
                          </div>
                          <!--End of modal footer-->
                  
                      </div>
                  
                  </div>
              
              </div> <!--End of modal content-->
              <!--End of currency setting modal content-->
          </div>
      
  </div>
</div>

<!------------------------------------------Footer-------------------------------------------->
<section class="footer-2 section-padding gray-bg pb-3">
  <div class="row">
      <!-- Grid column -->
      <div class="col-md-3 col-lg-4 col-xl-4 mx-auto mt-3">
          <h4 class="mb-4 font-weight-bold">
              <i class="fa fa-map-marker fx-2" aria-hidden="true"></i> 
              <span style="color:#575769">81 Victoria St, Singapore 188065</span>
          </h4>
          <br>
          <h4 class="mb-4 font-weight-bold">
              <i class="fa fa-phone fx-2" aria-hidden="true"></i> 
              <span style="color:#575769">+65 6782 9653</span>
          </h4>
          <br>
          <h4 class="mb-4 font-weight-bold">
              <i class="fa fa-envelope fx-2" aria-hidden="true"></i>
              <span style="color:#575769">support@adventuretime.com</span>
          </h4>
      </div>
      <!-- Grid column -->

      <hr class="w-100 clearfix d-md-none" />

      <!-- Grid column -->
      <hr class="w-100 clearfix d-md-none" />

      <!-- Grid column -->
      <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mt-1 mb-1">
      <h2 class="mb-4 font-weight-bold">About the company</h2>
      <p>Feeling motivated to travel during these pandemic times, we have founded Adventure Time to help potential travellers to travel with ease!</p>
      <a href="#"><i class="fa fa-instagram fa-2x" aria-hidden="true"></i></a>&nbsp
      <a href="#"><i class="fa fa-facebook fa-2x" aria-hidden="true"></i></a>&nbsp
      <a href="#"><i class="fa fa-twitter fa-2x" aria-hidden="true"></i></a>&nbsp
      <a href="#"><i class="fa fa-youtube-play fa-2x" aria-hidden="true"></i></a>
      </div>
  </div>   
</section>


    
      
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> -->

    <!-- calendar script -->
    <script async src="https://buttons.github.io/buttons.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
    <script type="text/javascript" src="https://unpkg.com/lightpick@latest/lightpick.js"></script>
    <script type="text/javascript" src="calendar/docs/demo.js"></script>
    <!-- THEME JAVASCRIPT FILES
    ================================================== -->
    <!-- initialize jQuery Library -->
    <script src="plugins/jquery/jquery.js"></script>
    <!-- Bootstrap jQuery -->
    <!-- <script src="plugins/bootstrap/js/bootstrap.min.js"></script>
    <script src="plugins/bootstrap/js/popper.min.js"></script> -->
    <!-- Owl caeousel -->
    <!-- <script src="plugins/owl-carousel/owl.carousel.min.js"></script>
    <script src="plugins/slick-carousel/slick.min.js"></script> -->
    <script src="plugins/magnific-popup/magnific-popup.js"></script>
    <!-- Instagram Feed Js -->
    <script src="plugins/instafeed-js/instafeed.min.js"></script>
    <!-- Google Map -->
    <!-- <script src="plugins/google-map/gmap.js"></script> -->
    <!-- main js -->
    <script src="js/custom.js"></script>
    <!-- CDN -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
  </body>
</html>

<!-- search bar script -->
<script>
  let button_drive = document.getElementById('button_drive')
  button_drive.addEventListener('click',getDistance_Drive)

  let button_transit = document.getElementById('Transit')
  button_transit.addEventListener('click',getDistance_transit)

 let button_walk = document.getElementById('walking')
 button_walk.addEventListener('click',getDistance_walk)

  let lati = document.getElementById('origin_lat')
  lati.addEventListener('change',sayHi)

  let long = document.getElementById('origin_lng')
  long.addEventListener('change',sayHi)
 
</script>

<!--Google bar charts to show-->
<script>
  google.charts.load('current', {packages: ['corechart', 'bar']});
  google.charts.setOnLoadCallback(drawBasic);

  function drawBasic() {

      // The data here can be changed
      var data = google.visualization.arrayToDataTable([
          ['Activity', 'Price'],
          ['Sentosa', 300],
          ['Wild Wild Wet', 30],
          ['Singapore Zoo', 300],
          ['Adventure Colve', 2032],
          ['Marina Bay Sands', 4503]
      ]);

      //The data here can be changed 
      var options = {
          title: 'Category Spending Breakdown',
          chartArea: {width: '90%'},
          hAxis: {
          title: 'Price',
          minValue: 0
          },
          vAxis: {
          title: 'Activity'
          }
      };

      var chart = new google.visualization.BarChart(document.getElementById('bar_chart_div'));

      chart.draw(data, options);
  }
</script>

<!--Google table charts to show-->
<script>
  google.charts.load('current', {'packages':['table']});
  google.charts.setOnLoadCallback(drawTable);

  function drawTable() {
  var data = new google.visualization.DataTable();
  data.addColumn('string', 'Activity');
  data.addColumn('number', 'Price');
  data.addRows([
      ['Sentosa', 300],
      ['Wild Wild Wet', 30],
      ['Singapore Zoo', 300],
      ['Adventure Colve', 2032],
      ['Marina Bay Sands', 4503]
  ]);

  var table = new google.visualization.Table(document.getElementById('table_div'));

  table.draw(data, {showRowNumber: true, width: '100%', height: '100%'});
  }
</script>

<!--Vue instance for generation of budget total amount and currency-->
<script>

// Currency Exchange Drop down list ==> Vanilla JS
var currency_code_str =`Albania	ALL	lek
Algeria	DZD	dinar
Angola	AOA	kwanza
Argentina	ARS	peso
Armenia	AMD	dram
Australia	AUD	dollar
Austria	EUR	euro
Azerbaijan	AZN	manat
Bahrain	BHD	dinar
Barbados	BBD	dollar
Belarus	BYN	rouble
Belgium	EUR	euro
Bermuda	BMD	dollar
Bolivia	BOB	boliviano
Bosnia and Herzegovina	BAM	konvertibilna marka
Botswana	BWP	pula
Brazil	BRL	real
Bulgaria	BGN	lev
Cabo Verde	CVE	escudo
Cambodia	KHR	riel
Cameroon, Republic of	XAF	CFA franc BEAC
Canada	CAD	dollar
Cayman Islands	KYD	dollar
Chad	XAF	CFA franc BEAC
Chile	CLP	peso
China, People's Republic of	CNY	yuan
Colombia	COP	peso
Congo, Democratic Republic of the	CDF	franc
Congo, Republic of	XAF	CFA franc BEAC
Costa Rica	CRC	colon
Croatia	HRK	kuna
Cyprus	EUR	euro
Czech Republic	CZK	koruna
Denmark	DKK	kroner
Dominican Republic	DOP	peso
Ecuador	USD	dollar
Egypt	EGP	pound
El Salvador	USD	dollar
Equatorial Guinea	XAF	CFA franc BEAC
Estonia	EUR	euro
Fiji	FJD	dollar
Finland	EUR	euro
France	EUR	euro
Gabon	XAF	CFA franc BEAC
Georgia	GEL	lari
Germany	EUR	euro
Ghana	GHS	cedi
Gibraltar	GIP	pound
Greece	EUR	euro
Greenland	DKK	Danish krone
Guatemala	GTQ	quetzal
Guernsey, Channel Islands	GBP	British pound sterling
Guyana	GYD	dollar
Honduras	HNL	lempira
Hong Kong SAR	HKD	dollar
Hungary	HUF	forint
Iceland	ISK	krona
India	INR	rupee
Indonesia	IDR	rupiah
Iraq	IQD	dinar
Ireland	EUR	euro
Isle of Man	IMP	pound
Israel	ILS	shekel
Italy	EUR	euro
Ivory Coast (Cote d'Ivoire)	XOF	CFA franc BCEAO
Jamaica	JMD	dollar
Japan	JPY	yen
Jersey, Channel Islands	GBP	British pound sterling
Jordan	JOD	dinar
Kazakhstan	KZT	tenge
Kenya	KES	shilling
Korea, Republic of	KRW	won
Kosovo	EUR	euro
Kuwait	KWD	dinar
Kyrgyzstan	KGS	som
Lao PDR	LAK	kip
Latvia	EUR	euro
Lebanon	LBP	pound
Libya	LYD	dinar
Liechtenstein	CHF	franc
Lithuania	EUR	euro
Luxembourg	EUR	euro
Macau SAR	MOP	pataca
Madagascar	MGA	ariary
Malawi	MWK	kwacha
Malaysia	MYR	ringgit
Maldives	MVR	rufiyaa
Malta	EUR	euro
Mauritania	MRU	ouguiya
Mauritius	MUR	rupee
Mexico	MXN	peso
Moldova	MDL	leu
Mongolia	MNT	tugrik
Montenegro	EUR	euro
Morocco	MAD	dirham
Mozambique	MZN	metical
Myanmar	MMK	kyat
Namibia, Republic of	NAD	dollar
Netherlands	EUR	euro
New Zealand	NZD	dollar
Nicaragua	NIO	cordoba oro
Nigeria	NGN	naira
North Macedonia	MKD	denar
Norway	NOK	kroner
Oman	OMR	rial
Pakistan	PKR	rupee
Palestinian territories	ILS	shekel, dollar, and dinar
Panama	PAB	balboa  and dollar
Papua New Guinea	PGK	kina
Paraguay	PYG	guarani
Peru	PEN	nuevo sol
Philippines	PHP	peso
Poland	PLN	zloty
Portugal	EUR	euro
Puerto Rico	USD	dollar
Qatar	QAR	riyal
Romania	RON	leu
Russian Federation	RUB	ruble
Rwanda	RWF	franc
Saint Lucia	XCD	dollar
Saudi Arabia	SAR	riyal
Senegal	XOF	CFA franc BCEAO
Serbia	RSD	dinar
Singapore	SGD	dollar
Slovak Republic	EUR	euro
Slovenia	EUR	euro
South Africa	ZAR	rand
Spain	EUR	euro
Sri Lanka	LKR	rupee
Swaziland	SZL	lilangeni
Sweden	SEK	krona
Switzerland	CHF	franc
Taiwan	TWD	dollar
Tajikistan	TJS	somoni
Tanzania	TZS	shilling
Thailand	THB	baht
Timor-Leste	USD	US dollar
Trinidad And Tobago	TTD	dollar
Tunisia	TND	dinar
Turkey	TRY	lira
Turkmenistan	TMT	manat
Uganda	UGX	shilling
Ukraine	UAH	hryvnia
United Arab Emirates	AED	dirham
United Kingdom	GBP	sterling
United States	USD	dollar
Uruguay	UYU	peso
Uzbekistan, Republic of	UZS	soum
Venezuela	VEF	bolivar
Vietnam	VND	dong
Zambia	ZMW	kwacha
Zimbabwe	ZWD	dollar`

  //Cleaning the data 
  currency_str1 = currency_code_str.replace("   ","")
  currency_str2 = currency_str1.replace(/[\r\n]/gm,"")
  currency_all_array = currency_str2.split("\t")

  //creating the clean currency code array
  currency_array = []
  no_dup_currency_array = []

  //collecting only the country currency codes
  for(i=0;i<currency_all_array.length;i++){
      if(i%2 != 0){
          currency_array.push(currency_all_array[i])
      }
  }
  currency_array = currency_array.sort()

  // remove duplicates in country currency codes
  for(ele of currency_array){
      if(!no_dup_currency_array.includes(ele)){
          no_dup_currency_array.push(ele)
      }
    }

  const budget = Vue.createApp({
      data(){
          return{
            //data from the grey budget table
              total_amt: 0,
              currency: "SGD",
              catTableView: true,  // this is only for the category portion! Need to create for the day to day portion too
              catBarView: false, // this is only for the category portion! Need to create for the day to day portion too

              //data from the currency settings
              currency_code_array: no_dup_currency_array,
              to: "",
              from: "",
              amount: 1
          }
      },
      methods: {
          catShowTableView(){
              this.catTableView = true
              this.catBarView = false
          },
          catShowBarView(){
              this.catTableView = false
              this.catBarView = true
          }
      }
  }).mount("#budget")
</script>














<script>
  function getDatesFireBase(startDate, endDate){
    const dates = []
    let currentDate = startDate
    const addDays = function (days) {
        const date = new Date(this.valueOf())
        date.setDate(date.getDate() + days)
        return date
    }
    while (currentDate <= endDate){
        dates.push(currentDate)
        currentDate = addDays.call(currentDate, 1)
    }
    dates[0] = dates[0]
    return dates   
}
  function checkLogin() {
      if (localStorage.getItem('uid') == null) {
          window.location.href = 'login.html';
      }
  }
  console.log(localStorage.getItem('uid'))
  let userid = localStorage.getItem('uid');
</script>

<script type="module">
  // logout
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-app.js";
  import {
      getAuth,
      browserLocalPersistence,
      createUserWithEmailAndPassword,
      signInWithEmailAndPassword,
      signOut,
      setPersistence
  } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-auth.js";
  import { getDatabase, set, ref, update } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-database.js";

  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  const firebaseConfig = {
      // Your configs
      apiKey: "AIzaSyCLWmg-X8gl75JxCVz57jOIekeqSUk6XUY",
      authDomain: "adventuretime-934a2.firebaseapp.com",
      projectId: "adventuretime-934a2",
      storageBucket: "adventuretime-934a2.appspot.com",
      messagingSenderId: "168230082500",
      appId: "1:168230082500:web:6fbd2239d875c99c467691",
      measurementId: "G-MXMNLZZLM8",
      databaseURL: "https://adventuretime-934a2-default-rtdb.asia-southeast1.firebasedatabase.app/",
  };

  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  
  let user_id = localStorage.getItem('uid')
  var database = firebase.database()
  let cur_trip = 'none'
  var leadsRef = database.ref('users');
  leadsRef.on('value', function(snapshot) {
    snapshot.forEach(function(childSnapshot) {
      if(childSnapshot.key == user_id){
        let trip_list = childSnapshot.val()['trip']
        for(let index in trip_list){
          cur_trip = trip_list[index]
        }
      }
    });
    let start = cur_trip['startdate']
    let end = cur_trip['enddate']
    console.log(start)
    console.log(end)
    start = new Date(start)
    end = new Date(end)
    console.log(start)
    console.log(end)
    const dates = []
    let currentDate = start
    const addDays = function (days) {
        const date = new Date(this.valueOf())
        date.setDate(date.getDate() + days)
        return date
    }
    while(currentDate <= end){
        dates.push(currentDate)
        currentDate = addDays.call(currentDate, 1)
    }
    dates[0] = dates[0]
    document.getElementById('result-3').innerHTML = dates

    
//Fill calendar on page load
  document.getElementById('accordionFlushExample').innerHTML = ''
  let text = document.getElementById('result-3').innerHTML
  let date_list = text.split(',')
  for(let i=0; i<date_list.length; i++){
    let skip_index = 0
    for(let u=0;u<3;u++){
      skip_index = date_list[i].indexOf(' ',skip_index)
      skip_index += 1
    }
    let date_text = date_list[i].slice(0,skip_index)
    let item = document.createElement('div')
    item.innerHTML = `
    <div class="accordion-item">
            <!-- header -->
            <h2 class="accordion-header" id="flush-headingOne">
              <button class="accordion-button collapsed " type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                <h4 id="${i}">${date_text} </h4>
          
              </button>
            </h2>

            <!-- body -->
            <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
                <div class="accordion-body "> 
                    <div class="row d-flex">
                        <div class="col-12">
                          <!------------- SEARCH BOX ------------->

                          <!--PLACE INFO START-->
                           <div class="place_info"></div>

                          <!--ADD PLACE INPUT BOX-->
                          <div class="search-box mb-2 ">
                            <input type="text" id="${i}" class="form-control origin_fill" placeholder="Add a place">
                            <br>
                            
                            <div class="row recommend_header"></div>
                            <div class="recommended" ></div>

                          </div>
                          <br>                       
                        </div> <!--end col-->
                    </div> <!--end row-->
                </div> <!--end accordion body-->
            </div> <!--end accordion collaspe-->
          </div> <!--end DAY 1--></div>
    `
    document.getElementById('accordionFlushExample').appendChild(item)
    fill_origin();
   
  }
});
</script>
